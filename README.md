# üì® tg2md

[![npm](https://img.shields.io/npm/v/tg2md)](https://www.npmjs.com/package/tg2md)
[![license](https://img.shields.io/npm/l/tg2md)](LICENSE)

> English version ‚Üí [README_EN.md](README_EN.md)

**–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ Telegram-–∫–∞–Ω–∞–ª–∞ –≤ Markdown-—Å—Ç–∞—Ç—å–∏.**

–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç `result.json` –∏–∑ —ç–∫—Å–ø–æ—Ä—Ç–∞ Telegram –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ `.md` —Ñ–∞–π–ª—ã, –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è [Astro](https://astro.build/) –∏–ª–∏ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ SSG. –£–¥–æ–±–Ω–æ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Obsidian, Logseq –∏ –¥—Ä—É–≥–∏–µ Markdown-first –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
npx tg2md <–ø—É—Ç—å-–∫-result.json>
```

```bash
# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–∏:
npx tg2md ./ChatExport/result.json -o ./src/content/blog

# –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
npx tg2md ./ChatExport/result.json --rewrite

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π:
npx tg2md ./ChatExport/result.json --clean
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ `npx`, –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ:

```bash
npm install -g tg2md
```

---

## üì• –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å result.json

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Telegram Desktop](https://desktop.telegram.org/) _(–Ω–µ Telegram –¥–ª—è macOS)_
2. –ó–∞–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—ã–π –∫–∞–Ω–∞–ª
3. –ù–∞–∂–º–∏—Ç–µ **‚ãÆ** ‚Üí **–≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç: **JSON**
5. –í–∫–ª—é—á–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ
6. –ù–∞–∂–º–∏—Ç–µ **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å**

–í –ø–∞–ø–∫–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `result.json` –∏ –ø–∞–ø–∫–∞ `photos/`.

---

## üîÑ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

### –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π `.md` —Ñ–∞–π–ª

–ò–º—è —Ñ–∞–π–ª–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```
YYYY-MM-DD-—Ç—Ä–∞–Ω—Å–ª–∏—Ç-–∑–∞–≥–æ–ª–æ–≤–∫–∞.md
```

–ù–∞–ø—Ä–∏–º–µ—Ä: `2026-02-22-vsyo-chto-nuzhno-znat-pro-litij-ionnye-akkumulyatory.md`

### Frontmatter –≤ —Å—Ç–∏–ª–µ Astro

```yaml
---
title: '–í—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–æ –ª–∏—Ç–∏–π-–∏–æ–Ω–Ω—ã–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—ã'
description: '–Ø —Å–µ–π—á–∞—Å –∫–∞—Ç–∞—é—Å—å –≤ –≥–æ—Ä–∞—Ö –∑–∞ –ø–æ–ª—è—Ä–Ω—ã–º –∫—Ä—É–≥–æ–º –∏ —Ç—É—Ç —Ö–æ–ª–æ–¥–Ω–æ...'
pubDate: 'Feb 22 2026'
heroImage: '/images/photo_278@22-02-2026.jpg'
---
```

| –ü–æ–ª–µ | –û—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è |
|------|---------------|
| `title` | –ü–µ—Ä–≤—ã–π **bold**-—Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ |
| `description` | –ü–µ—Ä–≤—ã–π –∞–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞ (–±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞), –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ ~160 —Å–∏–º–≤–æ–ª–æ–≤ |
| `pubDate` | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞ |
| `heroImage` | –ü—É—Ç—å –∫ —Ñ–æ—Ç–æ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ç–æ) |

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

| Telegram | Markdown |
|----------|----------|
| **–ñ–∏—Ä–Ω—ã–π** | `**–∂–∏—Ä–Ω—ã–π**` |
| _–ö—É—Ä—Å–∏–≤_ | `*–∫—É—Ä—Å–∏–≤*` |
| ~~–ó–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π~~ | `~~–∑–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π~~` |
| <u>–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π</u> | `<u>–ø–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π</u>` |
| –°–ø–æ–π–ª–µ—Ä | `<span class="spoiler">—Ç–µ–∫—Å—Ç</span>` |
| –¶–∏—Ç–∞—Ç–∞ | `> —Ç–µ–∫—Å—Ç` |
| –ö–æ–¥ | `` `–∫–æ–¥` `` |
| –ë–ª–æ–∫ –∫–æ–¥–∞ | ` ```–∫–æ–¥``` ` |
| [–°—Å—ã–ª–∫–∞](url) | `[—Ç–µ–∫—Å—Ç](url)` |
| –ö–æ–º–∞–Ω–¥–∞ `/start` | `` `/start` `` |
| –ö–∞—Å—Ç–æ–º–Ω—ã–π —ç–º–æ–¥–∑–∏ ü§å | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —ç–º–æ–¥–∑–∏ (fallback) |

### üñº –§–æ—Ç–æ

–§–æ—Ç–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ `images/` –≤–Ω—É—Ç—Ä–∏ –≤—ã—Ö–æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ü—É—Ç—å –≤ frontmatter: `/images/–∏–º—è_—Ñ–∞–π–ª–∞.jpg`

> **–í–∞–∂–Ω–æ:** —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø–∞–ø–∫–µ —ç–∫—Å–ø–æ—Ä—Ç–∞. –ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç —Ñ–æ—Ç–æ.

### üö´ –ß—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

- **–†–µ–ø–æ—Å—Ç—ã** (forwarded) ‚Äî –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è
- **–í–∏–¥–µ–æ** ‚Äî —Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —Ñ–∞–π–ª –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
- **–†–µ–∞–∫—Ü–∏–∏** ‚Äî –Ω–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è
- **–û—Ç–≤–µ—Ç—ã** (`reply_to`) ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–∏

```
output/
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îú‚îÄ‚îÄ photo_272@06-02-2026_22-06-23.jpg
‚îÇ   ‚îî‚îÄ‚îÄ photo_273@10-02-2026_13-32-02.jpg
‚îú‚îÄ‚îÄ 2026-02-02-vstrechajte-gejmifikaciyu-v-kommentah.md
‚îú‚îÄ‚îÄ 2026-02-04-ya-lyublyu-halyavu.md
‚îî‚îÄ‚îÄ 2026-02-22-pro-akkumulyatory.md
```

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Astro

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `output/` –≤ –ø—Ä–æ–µ–∫—Ç Astro:

```
src/content/blog/    ‚Üê md-—Ñ–∞–π–ª—ã
public/images/       ‚Üê –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `src/content/config.ts` –æ–ø–∏—Å–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è `blog`:

```ts
const blog = defineCollection({
  schema: z.object({
    title: z.string(),
    description: z.string(),
    pubDate: z.coerce.date(),
    heroImage: z.string().optional(),
  }),
});
```

---

## üõ† –û–ø—Ü–∏–∏ CLI

| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------|----------|-------------|
| `--output`, `-o` | –í—ã—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞ | `./output` |
| `--rewrite`, `-r` | –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã | ‚Äî |
| `--clean`, `-c` | –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –≤—ã—Ö–æ–¥–Ω—É—é –ø–∞–ø–∫—É –ø–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π | ‚Äî |
| `--help`, `-h` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É | ‚Äî |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã **–Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è** ‚Äî –æ–Ω–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è, –∞ –≤ –∫–æ–Ω—Ü–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞.

---

## üß™ –¢–µ—Å—Ç—ã

```bash
npx vitest run         # –æ–¥–∏–Ω —Ä–∞–∑
npx vitest             # watch-—Ä–µ–∂–∏–º
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–µ—Å—Ç–∞—Ö ‚Üí [`src/__tests__/README.md`](src/__tests__/README.md)

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
src/
‚îú‚îÄ‚îÄ index.ts          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI
‚îú‚îÄ‚îÄ cli.ts            # CLI-–ª–æ–≥–∏–∫–∞: parseArgs, uniqueFilename, main
‚îú‚îÄ‚îÄ parser.ts         # –ü–∞—Ä—Å–∏–Ω–≥ JSON-—ç–∫—Å–ø–æ—Ä—Ç–∞
‚îú‚îÄ‚îÄ converter.ts      # –°–±–æ—Ä–∫–∞ Markdown-—Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ extractors.ts     # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏—è
‚îú‚îÄ‚îÄ formatting.ts     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ entity ‚Üí Markdown
‚îú‚îÄ‚îÄ slugify.ts        # –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∏ slug
‚îî‚îÄ‚îÄ types.ts          # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
```

---

## üë§ –ê–≤—Ç–æ—Ä

**Evgeny Cherkasov** ‚Äî [Telegram-–∫–∞–Ω–∞–ª üì¨](https://t.me/+Gwp1QEKuDMlkMzRi)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
